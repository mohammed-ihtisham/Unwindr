---
timestamp: 'Sun Oct 19 2025 20:37:04 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251019_203704.22f76cd5.md]]'
content_id: 6f6cdff5109feeed23f465aefeb0d28c690dcfc08d0734bbfe2346b5835c29ea
---

# MediaAnalytics Concept

concept MediaAnalytics \[User, MediaItem]
purpose record and compute engagement scores for media items
principle each interaction adds weight to engagement score; scores are queryable

state
a set of MediaInteractions with
an \_id Id
a mediaItemId Id
a userId Id
a interactionType String // "view" | "tap" | "like" | "share"
a ts Date

a set of MediaEngagement with
a mediaItemId Id
a score Number

actions
recordInteraction (userId: Id, mediaItemId: Id, interactionType: String)
requires interactionType of interaction is valid
effect logs interaction and increments engagement score by weight(interactionType)

getEngagement (mediaItemId: Id) : (score: Number)
requires mediaItemId provided is valid
effect returns engagement score or 0 (no engagement)

recomputeScoresForPlace (placeId: Id, mediaItemIds: set Id)
requires placeId and mediaItemIds must exist
effect recomputes scores for those items from logged interactions

## Design Notes

* Interaction types have different weights: view=1, tap=2, like=5, share=10
* Engagement scores are computed incrementally on each interaction
* recomputeScoresForPlace allows batch recalculation if needed
* All interactions are logged with timestamp for potential future analytics
