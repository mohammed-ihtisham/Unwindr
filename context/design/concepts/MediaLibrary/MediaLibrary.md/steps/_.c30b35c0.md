---
timestamp: 'Thu Nov 06 2025 23:40:31 GMT-0500 (Eastern Standard Time)'
parent: '[[../20251106_234031.fb8e454b.md]]'
content_id: c30b35c05a7679e51026aa2fd33f1733c4d08c359f0ec3aee2517cf72d2395d6
---

# MediaLibrary Concept

[text](../../../context/design/brainstorming/questioning.md/steps/response.bc341f8d.md)

concept MediaLibrary \[User, Place]
purpose store and retrieve media items for visual discovery
principle only manages media data, not engagement or analytics

state
a set of MediaItems with
an \_id Id
a placeId Id
a contributorId Id // Always null for MVP (provider-sourced only)
a createdAt Date
an imageUrl String
a source String // "provider" (MVP: user contributions not supported)

actions
seedMedia (placeId: Id, urls: set String) : (count: Number)
requires urls not empty, placeId provided
effect inserts provider-sourced media items, setting source to "provider" and contributorId to null

getMediaByPlace (placeId: Id) : (mediaIds: set Id)
requires placeId provided
effect returns media item IDs ordered by createdAt desc

getMediaItemsByPlace (placeId: Id) : (mediaItems: Array MediaItem)
requires placeId provided
effect returns full media items with image URLs ordered by createdAt desc

getPreviewImagesForPlaces (placeIds: Array<Id>) : (previews: Array<{ placeId: Id, previewImage: String | null }>)
requires placeIds provided (can be empty array)
effect returns a preview image (newest image) for each place in the given array, returns null for places with no media
